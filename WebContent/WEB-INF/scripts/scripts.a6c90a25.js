"use strict";angular.module("yokeshApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ngMaterial","ngMessages","chart.js","naif.base64","infinite-scroll"]).factory("myHttpInterceptor",["$q","$cookies",function(a,b){return{request:function(a){return a},requestError:function(b){return canRecover(b)?responseOrNewPromise:a.reject(b)},response:function(a){return null!=a.headers("XSRF-TOKEN")&&b.put("XSRF-TOKEN",a.headers("XSRF-TOKEN")),a},responseError:function(a){return a}}}]).config(["$routeProvider","$httpProvider","$mdThemingProvider",function(a,b,c){var d;angular.injector(["ngCookies"]).invoke(["$cookies",function(a){d=a}]),b.interceptors.push("myHttpInterceptor"),b.defaults.headers.common.Accept="application/json",b.defaults.headers.common.Authorization="Basic dHlva2UwMDc6QHR5b2tlMDA3",b.defaults.withCredentials=!0,a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"}),c.definePalette("amazingPaletteName",{50:"f7f5f5",100:"ffbf00",200:"ef9a9a",300:"e57373",400:"ef5350",500:"f44336",600:"e53935",700:"d32f2f",800:"c62828",900:"b71c1c",A100:"f7f5f5",A200:"f7f5f5",A400:"f7f5f5",A700:"ff0000",contrastDefaultColor:"light",contrastDarkColors:["50","100","200","300","400","A100"],contrastLightColors:"light"}),c.theme("default").primaryPalette("brown").accentPalette("amazingPaletteName")}]).factory("httpRequestInterceptor",function(){return{request:function(a){return a.headers.Accept="application/json",a.headers.Authorization="authentication",a}}}),angular.module("yokeshApp").controller("MainCtrl",["$scope","Interestservice","Userservice","$mdDialog","$filter","$cookies","$q","$timeout","$mdToast","$window","$rootScope",function(a,b,c,d,e,f,g,h,i,j,k){function l(){a.fchartFun(),a.intFun(0,10)}function m(a,c,d,f,g){e("date")(f.interestDate,"dd/MM/yyyy"),e("date")(f.createdOn,"dd/MM/yyyy");a.statusChange=function(a,e){var g={interestId:f.interestId,interestPaidAmount:f.interestAmount,statusId:0};if("Paid"==a&&(g.statusId=1),"notPaid"==a&&(g.statusId=2),"partiallyPaid"==a){var h=c.prompt().title("Paying").placeholder("Paying").ariaLabel("Partial pay").initialValue("0").targetEvent(e).ok("Save").cancel("cancel");c.show(h).then(function(a){g.interestPaidAmount=a,g.statusId=6,b.PaidStatus(g,function(a){200==a.status?i.show(i.simple().textContent("Status Updated Successfully").highlightAction(!0).hideDelay(7e3).position("top right")):417==a.status&&i.show(i.simple().textContent(a.data).highlightAction(!0).hideDelay(7e3).position("top right"))}),d.reloadclient()},function(){})}"partiallyPaid"!=a&&b.PaidStatus(g,function(a){c.cancel(),200==a.status?i.show(i.simple().textContent("Status Updated Successfully").highlightAction(!0).hideDelay(7e3).position("top right")):417==a.status&&i.show(i.simple().textContent(a.data).highlightAction(!0).hideDelay(7e3).position("top right")),d.reloadclient(),c.cancel()})}}function n(a,b,d,e){a.pic=e,a.client=d,a.showInterest=!1,a.showDetail=!0,a.client.msfClientDocuments=[],a.Interestcalc=function(){"1"==a.client.interestTypeId?a.interestamt=Math.round(a.client.clientAmount*a.client.clientInterest/100):"2"==a.client.interestTypeId&&(a.interestamt=a.client.clientInterest),a.client.interestAmount=a.interestamt*a.client.clientTenure},a.Interestcalc(),a.addClient=function(){if(!angular.isUndefined(a.document))for(var b=0;b<a.document.length;b++)a.client.msfClientDocuments.push({documentTypeId:+a.document[b]});c.addUser(a.client,function(b){200==b.status?(i.show(i.simple().textContent("User Added Successfully").highlightAction(!0).hideDelay(7e3).position("top right")),a.clientpic()):417==b.status&&i.show(i.simple().textContent(b.data).highlightAction(!0).hideDelay(7e3).position("top right")),a.hide(),a.client={}})},a.clientpic=function(){c.addUser(a.pic,function(a){i.show(i.simple().textContent("photo Added Successfully").highlightAction(!0).hideDelay(7e3).position("top right"))})},a.addNewChoice=function(){a.client.msfClientAltPhones.length+1;a.client.msfClientAltPhones.push({altPhoneName:""})},a.removeChoice=function(){var b=a.client.msfClientAltPhones.length-1;a.client.msfClientAltPhones.splice(b)},a.users=[{documentTypeId:1,name:"Electrol ID Card"},{documentTypeId:2,name:"Passport"},{documentTypeId:3,name:"Driving License"},{documentTypeId:4,name:"Pan Card"},{documentTypeId:5,name:"Electricity Bill"},{documentTypeId:6,name:"Telephone Bill"}],a.onLoad=function(b,c,d,e,f,g){a.pic.clientPhoto=g.base64},a.hide=function(){b.hide()},a.cancel=function(){b.cancel()},a.next=function(){a.showInterest=!0,a.showDetail=!1},a.datecheck=function(){if(void 0==a.client.createdOn&&(a.client.createdOn=new Date),"2"==a.client.tenureTypeId){a.tenureType="Days";var b=new Date(a.client.createdOn);a.showdate=b.setDate(b.getDate()+1*a.client.clientTenure);new Date(b)}if("1"==a.client.tenureTypeId){var b=new Date(a.client.createdOn);b.setDate(b.getDate()+2),a.showdate=b.setMonth(b.getMonth()+1*a.client.clientTenure);new Date(b)}}}var o="",p="";a.client={},a.client.msfClientAltPhones=[{altPhoneName:""}],a.isChart=!0,a.Issearch=!1,a.stDate=new Date,a.enDate=new Date,a.enDate.setDate(a.enDate.getDate()+1),a.chartData=[],o=e("date")(a.stDate,"ddMMyyyy"),p=e("date")(a.enDate,"ddMMyyyy"),a.labels=["Received Amount","Not Received Amount"],a.color12=["#cb3837","#3787cb"],a.options={segmentShowStroke:!1,animationSteps:40,animationEasing:"linear"},a.numberToDisplay=10,a.loadMore=function(){a.numberToDisplay1=a.numberToDisplay,a.numberToDisplay+=10,a.listlength>0&&a.intFun(a.numberToDisplay1,a.numberToDisplay),a.date+=5},a.backInt=function(){a.Issearch=!1,a.searchInput="",a.searchbox=!1},a.searchUser=function(b){a.Issearch=!0,c.searchFunction(b,function(b,c){a.UserList=b.data})},a.review=function(b,c){o=e("date")(b,"ddMMyyyy"),p=e("date")(c,"ddMMyyyy"),a.lendFun(),a.intFun(0,10),a.fchartFun(),a.paidFun()},a.lendFun=function(){a.progress=!0,c.lend(o,p,function(b,c){a.progress=!1,a.lendamt=b.data})},a.back=function(){a.isChart=!0},a.intFun=function(c,d){a.progress=!0,b.Interest(o,p,c,d,function(b,c){if(a.progress=!1,a.listlength=b.length,angular.isUndefined(a.Interestamt))a.Interestamt=b;else{var d=a.Interestamt;a.Interestamt=d.concat(b)}})},a.paidFun=function(){b.paid(o,function(b,c){a.progress=!1,a.Paidamt=b.data})},a.fchartFun=function(){a.startdate1=e("date")(a.stDate,"dd-MM"),a.enddate1=e("date")(a.enDate,"dd-MM"),b.Fullchart(o,p,function(b,c){a.ischartData=!1;var d=b.data;a.chartData[0]=d.receivedAmount,a.chartData[1]=d.notReceivedAmount,"0"==b.receivedAmount&&"0"==b.notReceivedAmount?a.ischartData=!1:a.ischartData=!0})},a.export=function(b,c){var d=e("date")(a.stDate,"ddMMyyyy"),f=e("date")(a.enDate,"ddMMyyyy"),g="http://107.178.209.3:8080/msffinanceapi/api/user/export?startdate="+d+"&enddate="+f;j.open(g,"_blank")},a.deleteClient=function(a,b){var e=d.confirm().title("Delete User").textContent("Are you sure want to delete?").targetEvent(a).ok("OK").cancel("CANCEL");d.show(e).then(function(){c.deleteClient(b,function(a){window.location.reload(),i.show(i.simple().textContent("User Deleted Successfully").highlightAction(!0).hideDelay(7e3).position("top right"))})},function(){})},a.getClient=function(b){a.clientId=b,a.isChart=!1,c.getClient(b,function(b){a.clientDetail=b.data}),c.getClientChart(b,function(b){a.clidata[0]=b.datareceivedAmount,a.clidata[1]=b.data.notReceivedAmount}),c.getClientPhoto(b,function(b){a.pic=b.data}),c.getClientInterest(b,function(b){a.IntData=b.data})},k.reloadclient=function(){a.getClient(a.clientId)},a.showDialogButton=function(a,b,c){d.show({controller:m,templateUrl:"views/Prompt.html",parent:angular.element(document.body),targetEvent:a,clickOutsideToClose:!0,locals:{IntData:b,index:c}})},a.showTabDialog=function(b,c,e){var f={};"1"==e&&(f=a.pic),d.show({controller:n,templateUrl:"views/Adduser.html",parent:angular.element(document.body),targetEvent:b,clickOutsideToClose:!0,locals:{client:c,photo:f}})},a.clidata=[],a.myDate=new Date,a.minDate=new Date(a.myDate.getFullYear(),a.myDate.getMonth()-2,a.myDate.getDate()),a.maxDate=new Date(a.myDate.getFullYear(),a.myDate.getMonth()+2,a.myDate.getDate()),a.isBalance=function(b){return a.isBal=!1,2==b.statusId&&b.interestPrevBal>0&&(a.isBal=!0),a.isBal},l(),m.$inject=["$scope","$mdDialog","$rootScope","IntData","index"],n.$inject=["$scope","$mdDialog","client","photo"],a.addClient=function(){for(var b=0;b>a.document.length;b++)a.client.msfdocument.push({document:+a.document[b]})}}]),angular.module("yokeshApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("yokeshApp").controller("Userctrl",["$scope","$mdDialog",function(a,b){a.hide=function(){b.hide()},a.cancel=function(){b.cancel()},a.answer=function(a){b.hide(a)},a.Interestcalc=function(){"1"==a.client.interestTypeId?a.interestamt=Math.round(a.client.clientAmount*a.client.Interest/100):"2"==a.client.interestTypeId&&(a.interestamt=a.client.Interest)}}]),angular.module("yokeshApp").service("Interestservice",["$http","$cookies",function(a,b){var c={},d="http://107.178.209.3:8080/msffinanceapi/api/interest/";return a.defaults.headers.common["X-XSRF-TOKEN"]=b.get("XSRF-TOKEN"),c.Interest=function(b,c,e,f,g){void 0==e&&(e=0),void 0==f&&(f=e+10);var h=d+"?startdate="+b+"&enddate="+c+"&start="+e+"&end="+f;a({url:h,method:"GET"}).then(function(a){g(a.data,a.status,a.headers)},function(a){g(a,status)})},c.Fullchart=function(b,c,e){var f=d+"chart/?startdate="+b+"&enddate="+c;a({url:f,method:"GET"}).then(function(a,b){e(a,b)},function(a){e(a,status)})},c.paid=function(b,c){var e=d+"unpaid?date="+b;a({url:e,method:"GET"}).then(function(a,b){c(a,b)},function(a){c(a,status)})},c.PaidStatus=function(c,e){a.defaults.headers.common["X-XSRF-TOKEN"]=b.get("XSRF-TOKEN");var f=d;a({url:f,method:"put",data:c}).then(function(a,b){e(a,b)},function(a){e(a,status)})},c}]),angular.module("yokeshApp").service("Userservice",["$http","$cookies","$mdToast",function(a,b,c){var d={},e="http://107.178.209.3:8080/msffinanceapi/api/user";return a.defaults.headers.common["X-XSRF-TOKEN"]=b.get("XSRF-TOKEN"),d.searchFunction=function(b,c){var d=e+"/?search="+b;a({url:d,method:"GET"}).then(function(a,b){c(a,b)},function(a){c(a,status)})},d.addUser=function(c,d){console.log(b.get("XSRF-TOKEN")),a.defaults.headers.common["X-XSRF-TOKEN"]=b.get("XSRF-TOKEN");var f=e;a({url:f,method:"POST",data:c}).then(function(a,b){d(a,b)},function(a){d(a,status)})},d.lend=function(b,c,d){var f=e+"/?startdate="+b+"&enddate="+c;a({url:f,method:"GET"}).then(function(a,b){d(a,b)},function(a){d(a,status)})},d.deleteClient=function(c,d){a.defaults.headers.common["X-XSRF-TOKEN"]=b.get("XSRF-TOKEN"),console.log(a.defaults.headers);var f=e+"/"+c;a({url:f,method:"DELETE"}).then(function(a,b){d(a,b)},function(a){d(a,status)})},d.getClient=function(b,c){console.log(a.defaults.headers);var d=e+"/"+b;a({url:d,method:"GET"}).then(function(a,b){c(a,b)},function(a){c(a,status)})},d.getClientChart=function(b,c){console.log(a.defaults.headers);var d=e+"/"+b+"/interest/chart";a({url:d,method:"GET"}).then(function(a,b){c(a,b)},function(a){c(a,status)})},d.getClientInterest=function(b,c){var d=e+"/"+b+"/interest";a({url:d,method:"GET"}).then(function(a,b){c(a,b)},function(a){c(a,status)})},d.getClientPhoto=function(b,c){console.log(a.defaults.headers);var d=e+"/"+b+"/photo";a({url:d,method:"GET"}).then(function(a,b){c(a,b)},function(a){c(a,status)})},d}]),angular.module("yokeshApp").run(["$templateCache",function(a){a.put("views/Adduser.html",'<style>\r\n\t.choose_file input[type="file"] {\r\n\t\t-webkit-appearance: none;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\topacity: 0;\r\n\t\tpadding: 10px;\r\n\t}\r\n</style>\r\n\r\n\r\n<md-dialog flex=30>\r\n\r\n\t<form name="UserForm" ng-show="showDetail">\r\n\r\n\t\t<md-dialog-content class="md-no-momentum" layout-padding style="padding:1%5%">\r\n\r\n\t\t\t<div layout="row" layout-align="center center" style="  position: relative;">\r\n\t\t\t\t<img ng-if="pic.clientPhoto.length==0||pic.clientPhoto==undefined" ng-src="images\\avatar.png" alt="" class="md-avatar" style="height:100px;width:100px;border-radius:50px">\r\n\t\t\t\t<img ng-if="pic.clientPhoto.length>0" ng-src="data:image/JPEG;base64,{{pic.clientPhoto}}" style="height:100px;width:100px;border-radius:50px"\r\n\t\t\t\t\talt="{{ pa.clientName }}" class="md-avatar">\r\n\r\n\t\t\t\t<label for="input-file-id" class="md-button md-fab md-mini md-primary" style="  position: absolute;\r\n    bottom: 0px;\r\n    right: 32%;\r\n    ">\r\n <div class="choose_file">\r\n       \r\n        <input name="Select File" type="file" ng-model="Photo1" onload="onLoad"  base-sixty-four-input   accept="image/*"/>\r\n    </div>\r\n\t<md-icon md-font-set="material-icons"> mode_edit </md-icon>\r\n</label>\r\n\r\n\r\n\t\t\t</div>\r\n\r\n\r\n\t\t\t<md-input-container class="md-icon-float md-block">\r\n\t\t\t\t<!-- Use floating label instead of placeholder -->\r\n\t\t\t\t<md-icon md-font-set="material-icons"> person </md-icon>\r\n\t\t\t\t<input required name="clientName" ng-model="client.clientName" type="text" placeholder="Name">\r\n\t\t\t\t<div ng-messages="UserForm.clientName.$error">\r\n\t\t\t\t\t<div ng-message="required">Name is required.</div>\r\n\t\t\t\t</div>\r\n\t\t\t</md-input-container>\r\n\r\n\t\t\t<md-input-container class="md-block">\r\n\t\t\t\t<md-icon md-font-set="material-icons"> phone </md-icon>\r\n\t\t\t\t<input required ng-model="client.clientPhone" name=clientPhone type="text" ng-pattern="/^[0-9]{10,10}$/" placeholder="Phone Number">\r\n\t\t\t\t<div ng-messages="UserForm.clientPhone.$error">\r\n\t\t\t\t\t<div ng-message="required">Phone Number is required.</div>\r\n\t\t\t\t\t<div ng-message="pattern">\r\n\t\t\t\t\t\tEnter valid Phone Number\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</md-input-container>\r\n\r\n\t\t\t<div layout="row">\r\n\t\t\t\t<div layout-align="start center" style: "font-size:48px">Alt Phone</div>\r\n\t\t\t\t<div layout-align="end center">\r\n\t\t\t\t\t<i class="material-icons md-48" ng-click="addNewChoice()"> add_circle </i></div>\r\n\t\t\t</div>\r\n\t\t\t<div layout="row" data-ng-repeat="choice in client.msfClientAltPhones">\r\n\t\t\t\t<md-input-container flex="50">\r\n\t\t\t\t\t<input type="text" ng-model="choice.altPhoneName" name="" placeholder="Name">\r\n\t\t\t\t</md-input-container>\r\n\t\t\t\t<md-input-container flex="45">\r\n\t\t\t\t\t<input ng-model="choice.altPhoneNumber" type="text" placeholder="Phone Number">\r\n\r\n\r\n\t\t\t\t</md-input-container>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<i class="material-icons" ng-show="$last" ng-click="removeChoice()">delete</i>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<md-input-container class="md-block">\r\n\t\t\t\t<md-icon md-font-set="material-icons"> home </md-icon>\r\n\t\t\t\t<input required ng-model="client.clientAddress" name="clientAddress" md-maxlength="30" type="text" placeholder="Address">\r\n\t\t\t\t<div ng-messages="UserForm.clientAddress.$error">\r\n\t\t\t\t\t<div ng-message="required">Address is required.</div>\r\n\t\t\t\t\t<div ng-message="md-maxlength">The Address must be less than 30 characters long.</div>\r\n\t\t\t\t</div>\r\n\t\t\t</md-input-container>\r\n\t\t\t<!--\r\n    <md-input-container class="md-icon-float md-icon-right md-block">\r\n      <label>Donation Amount</label>\r\n      <md-icon md-svg-src="img/icons/ic_card_giftcard_24px.svg"></md-icon>\r\n      <input ng-model="user.donation" type="number" step="0.01">\r\n      <md-icon md-svg-src="img/icons/ic_euro_24px.svg"></md-icon>\r\n    </md-input-container>-->\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\t</md-dialog-content>\r\n\r\n\t\t<md-dialog-actions layout="row">\r\n\r\n\t\t\t<span flex></span>\r\n\t\t\t<md-button ng-click="cancel()">\r\n\t\t\t\tCANCEL\r\n\t\t\t</md-button>\r\n\t\t\t<md-button type="submit" ng-click="UserForm.$valid && next()" style="margin-right:20px;">\r\n\t\t\t\tNext\r\n\t\t\t</md-button>\r\n\t\t</md-dialog-actions>\r\n\r\n\t</form>\r\n\t<form name="InterestForm" ng-show="showInterest">\r\n\t\t<md-dialog-content class="md-no-momentum" layout-padding style="padding:5%5%">\r\n\t\t\t<md-input-container class="md-block">\r\n\t\t\t\t<md-icon class="fa fa-inr"></md-icon>\r\n\r\n\t\t\t\t<input required ng-model="client.clientAmount" name="clientAmount" type="text" placeholder="Amount">\r\n\t\t\t\t<div ng-messages="InterestForm.clientAmount.$error">\r\n\t\t\t\t\t<div ng-message="required">Amount is required.</div>\r\n\t\t\t\t</div>\r\n\t\t\t</md-input-container>\r\n\t\t\t<div layout="row">\r\n\r\n\r\n\t\t\t\t<md-input-container flex="50">\r\n\t\t\t\t\t<label>Tenure Type </label>\r\n\t\t\t\t\t<md-select name="type" ng-model="client.tenureTypeId" required ng-change="datecheck()">\r\n\t\t\t\t\t\t<md-option value="1">Month</md-option>\r\n\t\t\t\t\t\t<md-option value="2">Day</md-option>\r\n\t\t\t\t\t</md-select>\r\n\t\t\t\t</md-input-container>\r\n\r\n\t\t\t\t<md-input-container flex="50">\r\n\t\t\t\t\t<label>Tenure Period</label>\r\n\t\t\t\t\t<input required name="clientTenure" ng-model="client.clientTenure" ng-change="datecheck()">\r\n\t\t\t\t\t<div ng-messages="InterestForm.clientTenure.$error">\r\n\t\t\t\t\t\t<div ng-message="required">Tenure Period is required.</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</md-input-container>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div layout="row">\r\n\r\n\r\n\t\t\t\t<md-input-container flex="50">\r\n\t\t\t\t\t<label>Interest Type</label>\r\n\t\t\t\t\t<md-select name="type" ng-model="client.interestTypeId" ng-change="Interestcalc()" required>\r\n\t\t\t\t\t\t<md-option value="1">In Percentage</md-option>\r\n\t\t\t\t\t\t<md-option value="2">In Amount</md-option>\r\n\t\t\t\t\t</md-select>\r\n\t\t\t\t</md-input-container>\r\n\r\n\t\t\t\t<md-input-container flex="50">\r\n\t\t\t\t\t<label>Interest</label>\r\n\t\t\t\t\t<input required name="Interest" ng-model="client.clientInterest" ng-change="Interestcalc()">\r\n\t\t\t\t\t<div ng-messages="projectForm.Interest.$error">\r\n\t\t\t\t\t\t<div ng-message="required">Interest is required.</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</md-input-container>\r\n\t\t\t</div>\r\n\t\t\t<md-input-container class="md-block">\r\n\t\t\t\t<label>Document</label>\r\n\t\t\t\t<md-select ng-model="document" ng-model-options="{trackBy: \'$value\'}" multiple>\r\n\t\t\t\t\t<md-option ng-value="user.documentTypeId" ng-repeat="user in users">{{ user.name }}</md-option>\r\n\t\t\t\t</md-select>\r\n\t\t\t</md-input-container>\r\n\r\n\t\t\t<div layout-padding class="yellowcolor" style="background: #4f3c35;">\r\n\r\n\t\t\t\t<span style="padding:2%">Amount:<i class="fa fa-inr"></i>{{client.clientAmount| number:0}}</span><br>\r\n\t\t\t\t<span style="padding:2%">Tenure Period:{{client.clientTenure}} \r\n\t\t\t\t\t<span ng-if="client.tenureTypeId==\'1\'">Months</span>\r\n\t\t\t\t<span ng-if="client.tenureTypeId==\'2\'">Day</span>\r\n\t\t\t\t</span><br/>\r\n\r\n\t\t\t\t<span style="padding:2%">Interest:\r\n\t\t\t\t<i class="fa fa-inr"></i>\r\n\t\t\t\t\r\n\t\t\t\t<span ng-if="client.tenureTypeId==\'1\'">{{interestamt}}/Month</span>\r\n\t\t\t\t<span ng-if="client.tenureTypeId==\'2\'">{{(interestamt}}/Day</span>\r\n\r\n\t\t\t\t</span><br/>\r\n\t\t\t\t<span style="padding:2%">Due Date:\r\n\t\t\t\t\t<span ng-if="client.tenureTypeId==\'1\'">{{showdate| date :"dd"}} of Every Month till {{showdate | date :  "MMM-y" }}</span>\r\n\t\t\t\t<span ng-if="client.tenureTypeId==\'2\'">Daily till {{showdate | date :  "dd-MMM-y" }}</span>\r\n\r\n\t\t\t\t</span><br/>\r\n\t\t\t\t<span style="padding:2%">Total Interest:<i class="fa fa-inr"></i>\r\n\t\t\t\t<span >{{interestamt*client.clientTenure}}</span>\r\n\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\r\n\t\t</md-dialog-content>\r\n\r\n\t\t<md-dialog-actions layout="row">\r\n\r\n\t\t\t<span flex></span>\r\n\t\t\t<md-button ng-click="cancel()">\r\n\t\t\t\tCANCEL\r\n\t\t\t</md-button>\r\n\t\t\t<md-button ng-click="addClient()" style="margin-right:20px;">\r\n\t\t\t\tADD\r\n\t\t\t</md-button>\r\n\t\t</md-dialog-actions>\r\n\r\n\t</form>\r\n</md-dialog>'),a.put("views/Prompt.html",'<md-toolbar> <div class="md-toolbar-tools"> <h2 class="md-accent">Change Status</h2> </div> </md-toolbar> <md-button class="md-primary md-hue-1" ng-click="statusChange(\'Paid\',$event)">Paid</md-button> <md-button class="md-primary md-hue-1" ng-click="statusChange(\'notPaid\',$event)">Not Paid</md-button> <md-button class="md-primary md-hue-1" ng-click="statusChange(\'partiallyPaid\',$event)">Partially Paid</md-button>'),a.put("views/main.html",'<style>.constrained {\n\t\theight: 450px;\n\t\toverflow: auto;\n\t}\n\t\n\t.redcolor {\n\t\tcolor: red !important;\n\t}\n\n\t.greencolor {\n\t\tcolor: green !important;\n\t}\n\n\n\t\n\tmd-tabs > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {\n\t\tcolor: #f7f5f5 !important;\n\t}\n\t\n\t.cardstyle {\n\t\tfont-weight: bolder;\n\t}\n\t\n\t.cardvalue {\n\t\tpadding-left: 1px;\n\t\tfont-size: smaller\n\t}\n\t\n\t.md-button.md-fab {\n\t\tline-height: 5.6rem;\n\t\tmin-width: 0;\n\t\twidth: 3.6rem;\n\t\theight: 3.6rem;\n\t\tborder-radius: 50%;\n\t\tbackground-color: #f7b807;\n\t}\n\t\n\t.md-button.md-fab:hover {\n\t\tline-height: 5.6rem;\n\t\tmin-width: 0;\n\t\twidth: 3.6rem;\n\t\theight: 3.6rem;\n\t\tborder-radius: 50%;\n\t\tbackground-color: green;\n\t}\n\t\n\tmd-toolbar {\n\t\tmin-height: 48px !important;\n\t\tmax-height: 48px !important;\n\t}\n\t\n\t.nav-active {\n\t\tcolor: brown;\n\t}\n\t\n\t.nav-active md-icon {\n\t\tcolor: purple;\n\t}\n\t\n\t#canvas-holder {\n\t\theight: 100px;\n\t\twidth: 100px;\n\t\tposition: relative;\n\t}\n\t\n\t.yellowcolor {\n\t\tcolor: #f7b807 !important;\n\t}\n\t\n\t.chart-title {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tmargin: 0 auto;\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\twidth: 100%;\n\t\ttext-align: center;\n\t}\n\t\n\t.file_input_div {\n\t\tmargin: auto;\n\t\twidth: 250px;\n\t\theight: 40px;\n\t}\n\t\n\t.file_input {\n\t\tfloat: left;\n\t}\n\t\n\t#file_input_text_div {\n\t\twidth: 200px;\n\t\tmargin-top: -8px;\n\t\tmargin-left: 5px;\n\t}\n\t\n\t.searchinput {\n\t\tcolor: #FFF;\n\t\tmargin-top: 20px;\n\t}</style> <md-toolbar class="desktop"> <div layout="row" class="md-toolbar-tools" style="background-color: #795548"> <div flex> <span flex>MsF</span> </div> <div layout="row" layout-align="center center" flex> <div style="height:70px;margin-right: -65%"> <md-input-container md-no-float class="md-accent" flex="70" style="padding-bottom:0px;margin-left:25px"> <input ng-model="searchInput" ng-if="searchbox" placeholder="Search here" style="color:wheat;;margin-left:5px" ng-change="searchUser(searchInput)"> <md-icon style="color:wheat" class="material-icons" ng-click="searchbox=!searchbox">&#xE8B6;</md-icon> </md-input-container> </div> </div> </div> </md-toolbar> <div> <div layout="row" layout-xs="column" layout-wrap> <div flex style="background-color: #dadada" layout="row" layout-align="center center"> <div> <form name="st_date" flex-gt-xs> <div layout="column" flex> <label class="md-caption">Start date</label> <md-datepicker ng-model="stDate" name="dateField"></md-datepicker> <div ng-messages="st_date.dateField.$error"> <div ng-message="valid">The entered value is not a date!</div> <div ng-message="required">This date is required!</div> <div ng-message="mindate">Date is too early!</div> <div ng-message="maxdate">Date is too late!</div> </div> </div> </form> </div> <div> <form name="en_date" flex-gt-xs> <div layout="column" flex> <label class="md-caption">End date</label> <md-datepicker ng-model="enDate" name="dateField"></md-datepicker> <div ng-messages="en_date.dateField.$error"> <div ng-message="valid">The entered value is not a date!</div> <div ng-message="required">This date is required!</div> <div ng-message="mindate">Date is too early!</div> <div ng-message="maxdate">Date is too late!</div> </div> </div> </form> </div> <!--<md-input-container class="md-input-has-placeholder">\n    <label>End Date/Time</label>--> <!--<input mdc-datetime-picker="" date="true" time="false" type="dropdown"\n    placeholder="Date" min-date="dateTimeStart"="dateTimeEnd"max-date="dateTimeEnd" ng-model="dateTimeStart1" class=" md-input"\n    id="input_0">--> <!--</div>\n<div flex style="  background-color: #dadada;" layout="row" layout-align="start start">--> <div style="padding-bottom:15px"> <md-button class="md-primary md-hue-1" ng-click="review(stDate,enDate)"> <md-tooltip md-direction="bottom">Review</md-tooltip> REVIEW</md-button> <md-button class="md-primary md-hue-1" ng-click="export(stDate,enDate)"> <md-tooltip md-direction="bottom">Export</md-tooltip> EXPORT </md-button> </div> </div> </div> <div layout="row" layout-xs="column" layout-margin style="min-height: 424px"> <md-card ng-show="!Issearch" flex> <md-tabs class="md-primary" md-dynamic-height md-border-bottom md-stretch-tabs="always"> <md-tab md-on-select="intFun()" label="Interest"> <md-content class="constrained"> <md-list ng-if="Interestamt.length>0" flex="" infinite-scroll="loadMore()" infinite-scroll-container="&quot;.constrained&quot;" infinite-scroll-distance="1" infinite-scroll-parent="true"> <md-list-item class="md-2-line" ng-repeat="inest in Interestamt " ng-click="getClient(inest.clientId)"> <img ng-src="images\\avatar.png" alt="{{ pa.clientName }}" class="md-avatar"> <div class="md-list-item-text" layout="column"> <div class="yellowcolor" layout="row"> <div layout="column" flex="50" layout-align="start start"> <h3 style="color:#f7b807">{{ inest.clientName }}</h3> <h4 style="color:#795548">{{ inest.clientPhone }}</h4> </div> <div layout="column" flex="50" layout-align="start end"> <h3 ng-class="{\'greencolor\': inest.statusId == 1, \'redcolor\' : inest.statusId == 2, \'yellowcolor\': inest.statusId == 3}"><i class="fa fa-inr"></i>{{ inest.interestAmount }}</h3> <h4>{{ inest.interestDate }} Status : {{inest.statusId}}</h4> </div> <div> <i style="font-size: 35px" class="material-icons md-48">keyboard_arrow_right</i> </div> </div> </div> </md-list-item> </md-list> <div ng-show="progress" layout="row" layout-sm="column" layout-align="space-around"> <md-progress-circular md-mode="indeterminate"></md-progress-circular> </div> <div ng-if="Interestamt.length==0" layout="row" layout-sm="column" layout-align="space-around"> <p class="yellowcolor">No Data Found</p> </div> </md-content> </md-tab> <md-tab md-on-select="lendFun()" class="" label="LEND"> <md-content> <div ng-if="lendamt.length>0" style="height:5%"> <md-list flex=""> <md-list-item class="md-2-line" ng-repeat="lend in lendamt" ng-click="getClient(lend.clientId)"> <img ng-src="images\\avatar.png" alt="{{ pa.clientName }}" class="md-avatar"> <div class="md-list-item-text" layout="column"> <div layout="row"> <div layout="column" flex="50" layout-align="start start"> <h3 style="color:#f7b807">{{ lend.clientName }}</h3> <h4 style="color:#795548">{{ lend.clientPhone }}</h4> </div> <div layout="column" flex="50" layout-align="start end"> <h3 style="color:#795548"><i class="fa fa-inr"></i>{{ lend.clientAmount }}</h3> <h4>{{ lend.interestDate }}</h4> </div> <div> <i style="font-size: 35px" class="material-icons md-48">keyboard_arrow_right</i> </div> </div> </div> </md-list-item> </md-list> </div> <div ng-if="lendamt.length==0" layout="row" layout-sm="column" layout-align="space-around"> <p class="md-accent" style="color:#f7b807">No Data Found</p> </div> <div ng-show="progress" layout="row" layout-sm="column" layout-align="space-around"> <md-progress-circular md-mode="indeterminate"></md-progress-circular> </div> </md-content> </md-tab> <md-tab md-on-select="paidFun()" class="" label="UNPAID"> <md-content> <md-list ng-if="Paidamt.length>0" flex=""> <md-list-item class="md-2-line" ng-repeat="pa in Paidamt" ng-click="getClient(pa.clientId)"> <img ng-src="images\\avatar.png" alt="{{ pa.clientName }}" class="md-avatar"> <div class="md-list-item-text" layout="column"> <div layout="row"> <div layout="column" flex="50" layout-align="start start"> <h3 class="yellowcolor">{{ pa.clientName }}</h3> <h4 style="color:#795548">{{ pa.clientPhone }}</h4> </div> <div layout="column" flex="50" layout-align="start end"> <h3 style="color:red"><i class="fa fa-inr"></i>{{ pa.interestBal }}</h3> <h4>{{ pa.interestDate }}</h4> </div> <div> <i style="font-size: 35px" class="material-icons md-48">keyboard_arrow_right</i> </div> </div> </div> </md-list-item> </md-list> <div ng-if="Paidamt.length==0" layout="row" layout-sm="column" layout-align="space-around"> <p class="yellowcolor">No Data Found</p> </div> <div ng-show="progress" layout="row" layout-sm="column" layout-align="space-around"> <md-progress-circular md-mode="indeterminate"></md-progress-circular> </div> </md-content> </md-tab> </md-tabs> </md-card> <md-card ng-if="Issearch" flex> <div layout="row"> <md-button class="md-icon-button" ng-click="backInt()"> <md-tooltip md-direction="top">Back</md-tooltip> <md-icon md-font-set="material-icons">arrow_back</md-icon> </md-button> <h4 style="margin:4px"> <md-icon style="color:wheat" class="material-icons">&#xE8B6;</md-icon>Search result</h4>{{searchInput}}</div> <div ng-if="UserList.length>0" style="height:5%"> <md-list flex=""> <md-list-item class="md-2-line" ng-repeat="user in UserList" ng-click="getClient(user.clientId)"> <img ng-src="images\\avatar.png" alt="{{ user.clientName }}" class="md-avatar"> <div class="md-list-item-text" layout="column"> <div layout="row"> <div layout="column" flex="50" layout-align="start start"> <h3 style="color:#f7b807">{{ user.clientName }}</h3> <h4 style="color:#795548">{{ user.clientPhone }}</h4> </div> <div layout="column" flex="50" layout-align="start end"> <h3 style="color:#795548"><i class="fa fa-inr"></i>{{ user.clientAmount }}</h3> <h4>{{ user.interestDate }}</h4> </div> <div> <i style="font-size: 35px" class="material-icons md-48">keyboard_arrow_right</i> </div> </div> </div> </md-list-item> </md-list> </div> <div ng-if="UserList.length==0" layout="row" layout-sm="column" layout-align="space-around"> <p class="md-accent" style="color:#f7b807">No Data Found</p> </div> <div ng-show="progress" layout="row" layout-sm="column" layout-align="space-around"> <md-progress-circular md-mode="indeterminate"></md-progress-circular> </div> </md-card> <md-card ng-if="isChart" style="height:500px; overflow-y:auto ;background: rgb(165, 125, 110)" flex layout-fill> <md-toolbar md-scroll-shrink ng-if="true"> <div class="md-toolbar-tools"> <div layout="row" layout-align="center center"> <h3> <span style="padding-left:10px">INTEREST CHART</span> </h3> </div> </div> </md-toolbar> <div ng-if="ischartData" layout="row" layout-align="center center" style="margin-top:1%"><span class="yellowcolor">INTEREST {{startdate1}} to {{enddate1}}<span> </span></span></div> <div ng-if="ischartData" flex-offset="10" flex="strink" layout="row" layout-align="center center" style="height: 400px;width: 400px;background: rgb(165, 125, 110)"> <canvas id="doughnut" class="chart chart-doughnut" chart-data="chartData" chart-labels="labels" chart-colors="color12"> </canvas> </div> <div ng-if="!ischartData" layout="row" layout-align="center center"> <p class="yellowcolor">No Data Found For Chart</p> </div> </md-card> <md-card ng-if="!isChart" style="height:500px; overflow-y:auto" flex layout-fill> <md-toolbar md-scroll-shrink ng-if="true"> <div class="md-toolbar-tools"> <md-button class="md-icon-button" ng-click="back()"> <md-tooltip md-direction="top">Back</md-tooltip> <md-icon md-font-set="material-icons">arrow_back</md-icon> </md-button> <img ng-if="pic.clientPhoto.length==0||pic.clientPhoto==undefined" ng-src="images\\avatar.png" alt="" class="md-avatar" style="height:45px;width:45px;border-radius:22px"> <img ng-if="pic.clientPhoto.length>0" ng-src="data:image/JPEG;base64,{{pic.clientPhoto}}" style="height:45px;width:45px;border-radius:22px" alt="{{ pa.clientName }}" class="md-avatar"> <h3> <span>{{clientDetail.clientName}}</span> </h3> <span flex></span> <md-button class="md-icon-button" aria-label="Favorite" ng-click="showTabDialog($event,clientDetail,\'1\')"> <md-tooltip md-direction="top">Edit Client</md-tooltip> <md-icon md-font-set="material-icons"> edit</md-icon> </md-button> <md-button class="md-icon-button" aria-label="More" ng-click="deleteClient($event,clientDetail.clientId)"> <md-tooltip md-direction="top">Delete</md-tooltip> <md-icon md-font-set="material-icons"> delete </md-icon> </md-button> </div> </md-toolbar> <div layout="row"> <div flex="50"> <div layout="column"> <div> <md-card style="background-color: rgba(0, 0, 0, 0.12)"> <canvas id="doughnut" class="chart chart-doughnut" chart-data="clidata" chart-labels="labels" chart-colors="color12" style="width:100%"> </canvas> </md-card> </div> <md-card style="background-color: rgba(0, 0, 0, 0.12);padding:2%" flex="50"> <span><label class="cardstyle">Address:</label><label class="cardvalue">{{clientDetail.clientAddress}}</label></span> <span><label class="cardstyle">Phone No:</label><label class="cardvalue">{{clientDetail.clientPhone}} </label></span> <span><label class="cardstyle">Created Date:</label><label class="cardvalue">{{clientDetail.createdOn}}</label></span> </md-card> </div> </div> <div flex="50" style="height:420px; overflow-y:auto"> <md-list flex=""> <md-list-item md-list-item class="md-2-line" ng-repeat="inst in IntData " ng-click="showDialogButton($event,inst,$index)" ng-init="ist=isBalance(inst)"> <div class="md-list-item-text" layout="column"> <div layout="row"> <md-icon ng-if="inst.statusId==1" class="material-icons" style="color:green;margin-top:-1px">check_circle</md-icon> <md-icon ng-if="inst.statusId==6" class="material-icons" style="color:#FFA500;margin-top:-1px">check_circle</md-icon> <md-icon ng-if="inst.statusId==2" class="material-icons" style="color:red;margin-top:-1px">error</md-icon> <div layout="column" flex="50" layout-align="start start"> <h3 class="md-accent"><i class="fa fa-inr"></i>{{ inst.interestAmount }} <span ng-if="ist"> +{{inst.interestPrevBal}} </span></h3> <h4 ng-if="ist">=<i class="fa fa-inr"></i>{{inst.interestBal}}</h4> </div> <div layout="column" flex="50" layout-align="start end"> <h3>{{ inst.interestDate }}</h3> <h4 ng-if="inst.statusId==6"><span style="color:grey">Bal Amt:</span> <i class="fa fa-inr"></i>{{inst.interestBal}}</h4> </div> <div> </div> </div> </div> </md-list-item> </md-list> </div> </div> </md-card> </div> </div> <md-button class="md-fab md-fab-bottom-right" style="background-color:red" ng-click="showTabDialog($event,client,\'2\')"> <md-tooltip md-direction="top">Add User</md-tooltip> <i class="material-icons" style="font-size:40px">person_add</i> </md-button>');
}]);